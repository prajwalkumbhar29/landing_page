<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResQ 2.0 | Disaster Intelligence Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .glass { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); }
        .hero-gradient { background: radial-gradient(circle at top right, #f5f3ff 0%, #ffffff 50%); }
        
        /* Dark Theme UI matching */
        .bg-dark-section { background-color: #0f172a; } 
        .card-dark { background-color: #1e293b; border: 1px solid #334155; }
        .input-dark { background-color: #273549; border: 1px solid #334155; color: white; }
        .input-dark::placeholder { color: #64748b; }
        .btn-primary { background-color: #4f46e5; }
        
        .video-box { transition: transform 0.3s ease; cursor: pointer; }
        .video-box:hover { transform: translateY(-5px); }

        /* Fullscreen video styles */
        video:fullscreen,
        video:-webkit-full-screen {
            width: 100vw !important;
            height: 100vh !important;
            object-fit: contain !important;
            background: #000;
        }
    </style>
</head>
<body class="bg-white">

    <nav class="fixed w-full z-50 glass border-b border-slate-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 h-16 sm:h-20 flex justify-between items-center">
            <div class="flex items-center space-x-2 text-indigo-600">
                <i class="fas fa-shield-alt text-xl sm:text-2xl"></i>
                <span class="text-xl sm:text-2xl font-extrabold tracking-tight text-slate-900">ResQ <span class="text-indigo-600">2.0</span></span>
            </div>
            <a href="#partner-inquiry" class="bg-indigo-600 text-white px-4 sm:px-6 py-2 sm:py-2.5 rounded-full font-bold text-xs sm:text-sm shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition">
                Partner With Us
            </a>
        </div>
    </nav>

    <section class="pt-24 sm:pt-32 lg:pt-40 pb-12 sm:pb-16 lg:pb-24 hero-gradient">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-16 items-center">
            <div class="text-center lg:text-left">
                <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight text-slate-900 mb-4 sm:mb-6">
                    Real-Time Disaster <br><span class="text-indigo-600">Intelligence.</span>
                </h1>
                <p class="text-base sm:text-lg md:text-xl text-slate-500 leading-relaxed max-w-lg mx-auto lg:mx-0">
                    ResQ 2.0 provides situational awareness and dynamic safe-route navigation during natural disasters and climate-driven emergencies.
                </p>
            </div>
            
            <div class="relative group video-box" onclick="launchFullScreenVideo()">
    <div class="bg-white rounded-2xl sm:rounded-[2.5rem] shadow-2xl border border-slate-100 p-2 sm:p-3 overflow-hidden">
        <div class="rounded-xl sm:rounded-[1.8rem] overflow-hidden relative aspect-video bg-slate-900">
            <video id="portfolio-video" 
                   class="w-full h-full object-cover opacity-90 group-hover:opacity-100 transition" 
                   muted 
                   playsinline 
                   preload="auto">
                <source src="demo_video.mp4" type="video/mp4">
            </video>
            
            <div id="play-overlay" class="absolute inset-0 flex items-center justify-center bg-slate-900/30 group-hover:bg-slate-900/10 transition" style="transition: opacity 0.3s ease;">
                <div class="w-14 h-14 sm:w-20 sm:h-20 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white border border-white/30 shadow-2xl">
                    <i class="fas fa-play text-lg sm:text-2xl ml-0.5 sm:ml-1"></i>
                </div>
            </div>
        </div>
    </div>
</div>
    </section>

    <section id="partner-inquiry" class="py-12 sm:py-16 lg:py-24 bg-dark-section text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 grid grid-cols-1 lg:grid-cols-2 gap-10 sm:gap-12 lg:gap-16 items-start">
            
            <div class="pt-4 sm:pt-8">
                <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold mb-4 sm:mb-6">Strategic Partnerships & <br class="hidden sm:block">Fiscal Sponsorship</h2>
                <p class="text-slate-400 text-base sm:text-lg mb-6 sm:mb-10 leading-relaxed">
                    We are seeking strategic nonprofit partners to collaborate on API integration and pilot deployments in active disaster contexts.
                </p>
                
                <ul class="space-y-6">
                    <li class="flex items-center space-x-4">
                        <div class="flex-shrink-0 w-6 h-6 bg-emerald-500/20 text-emerald-500 rounded-full flex items-center justify-center text-xs">
                            <i class="fas fa-check"></i>
                        </div>
                        <span class="text-slate-200">Access nonprofit-restricted grants and CSR funding.</span>
                    </li>
                    <li class="flex items-center space-x-4">
                        <div class="flex-shrink-0 w-6 h-6 bg-emerald-500/20 text-emerald-500 rounded-full flex items-center justify-center text-xs">
                            <i class="fas fa-check"></i>
                        </div>
                        <span class="text-slate-200">Generate measurable outcomes for response safety.</span>
                    </li>
        
                </ul>
            </div>

            <div class="card-dark p-6 sm:p-8 lg:p-10 rounded-2xl sm:rounded-[2.5rem] shadow-2xl">
                <h3 class="text-2xl font-bold mb-8">Partner Inquiry</h3>
                <form id="partner-form" class="space-y-5">
                    <input type="text" name="organization" placeholder="Organization Name" required 
                           class="w-full px-6 py-4 input-dark rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition">
                    
                    <input type="email" name="_replyto" placeholder="Contact Email" required 
                           class="w-full px-6 py-4 input-dark rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition">
                    
                    <textarea name="message" rows="5" placeholder="Tell us about your disaster response mission" required 
                              class="w-full px-6 py-4 input-dark rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition resize-none"></textarea>
                    
                    <input type="hidden" name="_subject" value="New ResQ 2.0 Strategic Inquiry">
                    
                    <button type="submit" id="form-submit-btn" class="w-full btn-primary text-white py-4 rounded-xl font-bold text-lg hover:brightness-110 transition active:scale-[0.98]">
                        Schedule a Strategic Discussion
                    </button>

                    <p id="form-status" class="text-center text-sm font-medium hidden"></p>
                </form>
            </div>
        </div>
    </section>

    <script>
    const video = document.getElementById('portfolio-video');
    const playOverlay = document.getElementById('play-overlay');
    let isUserPlaying = false; // tracks whether video is in "active playback" mode

    function updateOverlay() {
        if (isUserPlaying) {
            playOverlay.style.opacity = '0';
            playOverlay.style.pointerEvents = 'none';
        } else {
            playOverlay.style.opacity = '1';
            playOverlay.style.pointerEvents = 'auto';
        }
    }

    async function launchFullScreenVideo() {
        // If already playing in-page, pause it first
        if (isUserPlaying) {
            stopVideo();
            return;
        }

        try {
            // Request fullscreen directly on the video element for native controls
            if (video.requestFullscreen) {
                await video.requestFullscreen();
            } else if (video.webkitRequestFullscreen) {
                await video.webkitRequestFullscreen();
            } else if (video.webkitEnterFullscreen) {
                // iOS Safari fallback
                video.webkitEnterFullscreen();
            } else if (video.msRequestFullscreen) {
                await video.msRequestFullscreen();
            }
        } catch (err) {
            console.warn("Full-screen request failed, playing inline:", err);
        }

        // Unmute and play from the beginning
        isUserPlaying = true;
        video.muted = false;
        video.currentTime = 0;
        video.play();
        updateOverlay();
    }

    function stopVideo() {
        isUserPlaying = false;
        video.pause();
        video.muted = true;
        video.currentTime = 0;
        updateOverlay();
    }

    // When the user exits full-screen (Esc or browser button), stop & reset
    document.addEventListener('fullscreenchange', () => {
        if (!document.fullscreenElement) {
            stopVideo();
        }
    });
    document.addEventListener('webkitfullscreenchange', () => {
        if (!document.webkitFullscreenElement) {
            stopVideo();
        }
    });

    // When the video ends naturally, reset everything
    video.addEventListener('ended', () => {
        stopVideo();
        // Exit full-screen if still in it
        if (document.fullscreenElement) {
            document.exitFullscreen();
        }
    });

    // Silent hover preview — only when user hasn't clicked to play
    const videoBox = video.closest('.video-box');
    videoBox.addEventListener('mouseenter', () => {
        if (!isUserPlaying) {
            video.muted = true;
            video.play().catch(() => {});
        }
    });
    videoBox.addEventListener('mouseleave', () => {
        if (!isUserPlaying) {
            video.pause();
            video.currentTime = 0;
        }
    });

    // --- Form submission via fetch (no page redirect) ---
    const partnerForm = document.getElementById('partner-form');
    const formStatus = document.getElementById('form-status');
    const submitBtn = document.getElementById('form-submit-btn');

    partnerForm.addEventListener('submit', async (e) => {
        e.preventDefault();

        submitBtn.disabled = true;
        submitBtn.textContent = 'Sending...';
        formStatus.classList.add('hidden');

        try {
            const formData = new FormData(partnerForm);
            const response = await fetch('https://formspree.io/f/mykdjgzb', {
                method: 'POST',
                body: formData,
                headers: { 'Accept': 'application/json' }
            });

            if (response.ok) {
                formStatus.textContent = '✓ Thank you! We will get back to you soon.';
                formStatus.className = 'text-center text-sm font-medium text-emerald-400';
                partnerForm.reset();
            } else {
                formStatus.textContent = '✗ Something went wrong. Please try again.';
                formStatus.className = 'text-center text-sm font-medium text-red-400';
            }
        } catch (err) {
            formStatus.textContent = '✗ Network error. Please check your connection.';
            formStatus.className = 'text-center text-sm font-medium text-red-400';
        }

        submitBtn.disabled = false;
        submitBtn.textContent = 'Schedule a Strategic Discussion';
    });
</script>

</body>
</html>